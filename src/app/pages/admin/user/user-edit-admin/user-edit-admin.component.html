<app-header-admin></app-header-admin>
<div class="content-wrapper">

    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1>Tous</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item">
                            <a [routerLink]="['/home']">Accueil</a>
                        </li>
                        <li class="breadcrumb-item active" [routerLink]="['/admin/user/index']"
                            routerLinkActive="router-link-active">
                            Liste des etudiants </li>
                    </ol>
                </div>
            </div>
        </div>
        <!-- /.container-fluid -->
    </section>


    <section class="content">
        <div class="card">

            <div class="card-header border-transparent">
                <h3 class="card-title">Modification Etudiant</h3>

                <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                        <i class="fas fa-minus"></i>
                    </button>

                </div>
            </div>
            <!-- /.card-header -->
            <div class="card-body p-0">

                <div class="container">
                    <form (ngSubmit)="onSubmit()" [formGroup]="form">

                        <div class="card-body">

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="prenom">Prenom <span>*</span></label>
                                    <input type="text" class="form-control" id="prenom" formControlName="prenom"
                                        aria-describedby="prenom" [(ngModel)]="user.prenom" pattern="[a-zA-Z0-9_ ]*$"
                                        placeholder="prenom">
                                    <div *ngIf="f['prenom'].touched && f['prenom'].invalid" class="alert alert-danger">
                                        <div *ngIf="f['prenom'].errors && f['prenom'].errors['required']">prenom non
                                            valide</div>
                                        <div *ngIf="f['nom'].errors && f['nom'].errors['minlength']">prenom trop petit
                                        </div>
                                    </div>

                                </div>

                                <div class="form-group col-md-6">
                                    <label for="nom">Nom <span>*</span></label>
                                    <input type="text" class="form-control" id="nom" formControlName="nom"
                                        aria-describedby="nom" [(ngModel)]="user.nom" pattern="[a-zA-Z0-9_ ]*$"
                                        placeholder="nom">
                                    <div *ngIf="f['nom'].touched && f['nom'].invalid" class="alert alert-danger">
                                        <div *ngIf="f['nom'].errors && f['nom'].errors['required']">nom non valide</div>
                                        <div *ngIf="f['nom'].errors && f['nom'].errors['minlength']">nom trop petit
                                        </div>
                                    </div>

                                </div>


                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-4">

                                    <label for="adresse">Adresse <span>*</span></label>
                                    <input type="text" class="form-control" id="adresse" formControlName="adresse"
                                        aria-describedby="adresse" [(ngModel)]="user.adresse" pattern="^[a-zA-Z0-9_ ]*$"
                                        placeholder="adresse">
                                    <div *ngIf="f['adresse'].touched && f['adresse'].invalid"
                                        class="alert alert-danger">
                                        <div *ngIf="f['adresse'].errors && f['adresse'].errors['required']">adresse non
                                            valide</div>
                                        <div *ngIf="f['adresse'].errors && f['adresse'].errors['minlength']">adresse
                                            trop petit
                                        </div>
                                    </div>
                                </div>


                                <div class="form-group col-md-4">
                                    <label for="tel">Tel <span>*</span></label>
                                    <input type="text" class="form-control" [(ngModel)]="user.tel" id="tel"
                                        formControlName="tel" aria-describedby="tel"
                                        pattern="[78]{2}|[75]{2}|[76]{2}|[77]{2}-[0-9]{3}-[0-9]{2}-[0-9]{2}"
                                        placeholder="tel">
                                    <span>format 77-000-00-00</span>
                                    <div *ngIf="f['tel'].touched && f['tel'].invalid" class="alert alert-danger">
                                        <div *ngIf="f['tel'].errors && f['tel'].errors['required']">tel non valide</div>
                                        <div *ngIf="f['tel'].errors && f['tel'].errors['pattern']">format non valide
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-4">

                                    <label for="genre">Genre <span>*</span></label>
                                    <select id="genre" name="sexe" [(ngModel)]="user.sexe" [attr.disabled]='true' formControlName="sexe"
                                        class="form-control" >
                                        <option value="Masculin" [selected]="user.sexe === 'Masculin'">Masculin</option>
                                        <option value="Féminin" [selected]="user.sexe === 'Féminin'">Féminin</option>
                                    </select>
                                    

                                </div>
                            </div>

                            <div class="form-row">

                                <div class="form-group col-md-6">
                                    <label for="lieu">Lieu <span>*</span></label>
                                    <input type="text" class="form-control" id="lieu" [(ngModel)]="user.lieuNaissance"
                                        formControlName="lieuNaissance" pattern="[a-zA-Z-0-9_ ]*$"
                                        aria-describedby="lieuNaissance" placeholder="lieu de Naissance">

                                    <div *ngIf="f['lieuNaissance'].touched && f['lieuNaissance'].invalid"
                                        class="alert alert-danger">
                                        <div *ngIf="f['lieuNaissance'].errors && f['lieuNaissance'].errors['required']">
                                            lieu de Naissance
                                            obligatoire</div>
                                        <div *ngIf="f['lieuNaissance'].errors && f['lieuNaissance'].errors['pattern']">
                                            format non valide
                                        </div>
                                    </div>

                                </div>
                                <div class="form-group col-md-6">
                                    <label for="dateNaissance">Date de Naissance <span>*</span></label>
                                    <input type="date" class="form-control" id="tel" [(ngModel)]="dateNaissance"
                                        [value]="dateNaissance" name="dateNaissance" formControlName="dateNaissance"
                                        aria-describedby="dateNaissance" placeholder="dateNaissance">

                                    <div *ngIf="f['dateNaissance'].touched && f['dateNaissance'].invalid"
                                        class="alert alert-danger">
                                        <div *ngIf="f['dateNaissance'].errors && f['dateNaissance'].errors['required']">
                                            date de Naissance
                                            obligatoire</div>

                                    </div>

                                </div>



                            </div>


                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <label for="email">Email <span>*</span></label>
                                    <input type="email" class="form-control" [(ngModel)]="user.email" id="email"
                                        formControlName="email" aria-describedby="email" placeholder="email">

                                    <div *ngIf="f['email'].touched && f['email'].invalid" class="alert alert-danger">
                                        <div *ngIf="f['email'].errors && f['email'].errors['required']">email
                                            obligatoire</div>
                                        <div *ngIf="f['email'].errors && f['email'].errors['pattern']">format non valide
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="password">Password <span>*</span> </label>
                                    <input type="password" formControlName="password" id="password"
                                        pattern="[a-zAZ0-9 ]{5,}" value="" class="form-control" >
                                    <div *ngIf="f['password'].touched && f['password'].invalid"
                                        class="alert alert-danger">
                                       
                                        <div *ngIf="f['password'].errors && f['password'].errors['minlength']">
                                            password
                                            trop petit
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="Confirm">Confirm Password <span>*</span> </label>
                                    <input type="password" formControlName="Confirm" id="Confirm"
                                        pattern="[a-zAZ0-9 ]{5,}" value="" class="form-control" >
                                    <div *ngIf="f['Confirm'].touched && f['Confirm'].invalid"
                                        class="alert alert-danger">
                                       
                                        <div *ngIf="f['Confirm'].errors && f['Confirm'].errors['matchPassword']">
                                            les mots de passe ne correspondent pas

                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row center">
                                <div class="text-center mt-3 text-secondary">
                                    <button type="submit" [disabled]="!form.valid" class="btn btn-primary px-4">valider</button>

                                </div>
                            </div>

                        </div>
                    </form>
                </div>

            </div>

        </div>


    </section>

</div>